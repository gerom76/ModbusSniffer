[Unit]
Description=Modbus Sniffer
After=network-online.target

[Service]
Type=simple
User=%i
WorkingDirectory=/srv/modbus-sniffer
ExecStart=/bin/bash -c 'cd /srv/modbus-sniffer/ && python3.9 -m venv . && source bin/activate && ./modbus-sniffer.sh'
RestartForceExitStatus=100
Restart=on-failure

[Install]
WantedBy=multi-user.target